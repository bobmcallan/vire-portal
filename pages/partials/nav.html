{{define "nav.html"}}
<div x-data="mobileMenu()">
    <nav class="nav">
        <div class="nav-inner">
            <a href="/" class="nav-brand">VIRE</a>

            <ul class="nav-links">
                <li><a href="/dashboard" {{if eq .Page "dashboard"}}class="active"{{end}}>Dashboard</a></li>
                <li><a href="/settings" {{if eq .Page "settings"}}class="active"{{end}}>Settings</a></li>
                <li>
                    <form method="POST" action="/api/auth/logout" class="nav-logout-form">
                        <button type="submit" class="nav-logout">Logout</button>
                    </form>
                </li>
            </ul>

            <div x-data="statusIndicators()" class="status-indicators">
                <span class="status-dot" :class="'status-' + portal" title="Portal">P</span>
                <span class="status-dot" :class="'status-' + server" title="Server">S</span>
            </div>

            <button @click="open()" class="nav-hamburger">
                <span class="nav-hamburger-icon"></span>
            </button>
        </div>
    </nav>

    <template x-if="visible">
        <div>
            <div class="mobile-overlay" @click="close()"></div>
            <div class="mobile-menu">
                <button @click="close()" class="mobile-menu-close">&#10005;</button>
                <a href="/dashboard">Dashboard</a>
                <a href="/settings">Settings</a>
                <form method="POST" action="/api/auth/logout">
                    <button type="submit" style="display:block;width:100%;padding:0.6rem 0;font-weight:700;font-size:0.8rem;letter-spacing:0.1em;text-transform:uppercase;text-decoration:none;color:#000;border:none;border-bottom:1px solid #888;background:none;cursor:pointer;text-align:left;font-family:'IBM Plex Mono',ui-monospace,monospace;">Logout</button>
                </form>
            </div>
        </div>
    </template>
</div>
{{end}}
